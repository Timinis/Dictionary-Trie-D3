(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/node.551d9315.png"},33:function(e,t,n){e.exports=n.p+"static/media/edge.871ac98d.jpg"},34:function(e,t,n){e.exports=n(52)},39:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),o=n.n(i),l=n(7),c=n(8),s=n(10),u=n(9),d=n(11),f=n(14),g=n(13),m=n(15),h=n(1),p=function(e,t,n,a){return h.g(e).force("link",h.e(t).distance(a/20).id(function(e){return e.id})).force("charge",h.f()).force("collision",h.d().radius(10)).force("center",h.c(.6*a,n/2))},y=function(e,t,n,a){return e.classed("node",!0).append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(t).join("circle").attr("r",10).style("fill",n).call(a)},v=function(e,t){return e.classed("desc",!0).append("g").attr("stroke","#999").selectAll("text").data(t).join("text").text(function(e){return e.id})},_=function(e,t){return e.classed("link",!0).append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(t).join("line").attr("stroke-width",function(e){return Math.sqrt(e.value)})},b=function(e,t,n,a,r,i,o,l){return l.nodes(t),l.force("link").links(i),l.alpha(1).restart(),(e=e.data(t,function(e){return e.id})).exit().remove(),e=e.enter().append("circle").attr("r",10).style("fill",n).merge(e).call(a),(r=r.data(i,function(e){return e.source.id+"-"+e.target.id})).exit().remove(),r=r.enter().append("line").merge(r),o&&((o=o.data(t,function(e){return e.id})).exit().remove(),o=o.enter().append("text").text(function(e){return e.id}).merge(o).call(a)),{nodeSelection:e,linkSelection:r,textSelection:o}},E=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).myRef=void 0,n.componentDidMount=function(){if(n.myRef.current){var e=[{id:"a"},{id:"b"},{id:"c"},{id:"d"}],t=[{source:"a",value:1,target:"b"},{source:"a",value:1,target:"c"},{source:"b",value:1,target:"c"},{source:"d",value:1,target:"b"}],a=e.map(function(e){return JSON.parse(JSON.stringify(e))}),r=t.map(function(e){return JSON.parse(JSON.stringify(e))}),i=h.h(n.myRef.current),o=n.myRef.current.width.baseVal.value,l=n.myRef.current.height.baseVal.value,c=p(a,r,l,o),s=function(e){return h.a().on("start",function(t){h.b.active||e.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}).on("drag",function(e){e.fx=h.b.x,e.fy=h.b.y}).on("end",function(t){h.b.active||e.alphaTarget(0),t.fx=null,t.fy=null})},u=y(i,a,"#5B8BDA",s(c)),d=_(i,r);c.on("tick",function(){u.attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),d.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})});var f=window.setInterval(function(){if(e.length<8){var n=Math.random().toString(),i=Math.floor(Math.random()*e.length)-1;-1===i&&(i=0);var o=Math.floor(Math.random()*e.length)-1;-1===o&&(o=0),e=[].concat(Object(m.a)(e),[{id:n}]),t=[].concat(Object(m.a)(t),[{source:n,value:1,target:e[i].id}]),a=e.map(function(e){return JSON.parse(JSON.stringify(e))}),r=t.map(function(e){return JSON.parse(JSON.stringify(e))});var l=b(u,a,"#5B8BDA",s(c),d,r,null,c);u=l.nodeSelection,d=l.linkSelection}},2e3);n.setState({intervalId:f})}},n.state={intervalId:-1},n.myRef=r.a.createRef(),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("svg",{ref:this.myRef,width:"100vw",height:"100vh"})}},{key:"componentWillUnmount",value:function(){this.state.intervalId&&window.clearInterval(this.state.intervalId),this.state.d3Timer&&this.state.d3Timer.stop()}}]),t}(a.Component),x=(n(39),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"landing"},r.a.createElement("h1",null,"Graphalizer",r.a.createElement("span",{className:"loader__dot"},"."),r.a.createElement("span",{className:"loader__dot"},"."),r.a.createElement("span",{className:"loader__dot"},".")),r.a.createElement("h2",null,"Data visualization learning tool"),r.a.createElement(f.b,{to:"/grapher"},r.a.createElement("button",null,"Get Started"))),r.a.createElement(E,null))}}]),t}(a.Component)),S=n(22),O=n(23),k=function(e){return"object"===typeof e&&e.hasOwnProperty("id")},N=n(32),A=n.n(N),w=n(33),j=n.n(w),D=(n(49),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).myRef=void 0,n.componentDidMount=function(){if(n.myRef.current){for(var e=[{id:"a",radius:25,color:"#f8f8ff"}],t=0;t<50;t++)e.push({id:Math.random().toString(),radius:Math.floor(8*Math.random()),color:"#"+(16777215*Math.random()<<0).toString(16)});console.log(e);var a=e.map(function(e){return JSON.parse(JSON.stringify(e))}),r=h.h(n.myRef.current),i=n.myRef.current.width.baseVal.value,o=n.myRef.current.height.baseVal.value,l=h.g(a).force("charge",h.f().strength(2)).force("center",h.c(i/2,o/2)).force("collision",h.d().radius(function(e){return e.radius})),c=r.classed("forceNode",!0).append("g").attr("stroke","#f8f8ff").attr("stroke-width",1.5).selectAll("circle").data(a).join("circle").attr("r",function(e){return e.radius}).style("fill",function(e){return e.color}).call(function(e){return h.a().on("start",function(t){h.b.active||e.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}).on("drag",function(e){e.fx=h.b.x,e.fy=h.b.y}).on("end",function(t){h.b.active||e.alphaTarget(0),t.fx=null,t.fy=null})}(l));l.on("tick",function(){c.attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y})})}},n.state={intervalId:-1},n.myRef=r.a.createRef(),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement(f.b,{to:"/"},r.a.createElement("h1",null,"Graphalizer",r.a.createElement("span",{className:"loader__dot"},"."),r.a.createElement("span",{className:"loader__dot"},"."),r.a.createElement("span",{className:"loader__dot"},"."))),r.a.createElement("svg",{ref:this.myRef,width:"15vw",height:"10vh",className:"navsvg"},r.a.createElement("rect",{width:"100%",height:"100%",fill:"#f8f8ff"})))}}]),t}(a.Component)),R=(n(50),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).myRef=void 0,n.componentDidMount=function(){if(null!==n.myRef.current){var e=n.props.graph.nodesArray.map(function(e){return JSON.parse(JSON.stringify(e))}),t=n.props.graph.edgesArray.map(function(e){return JSON.parse(JSON.stringify(e))}),a=h.h(n.myRef.current);console.log(a);var r=n.myRef.current.width.baseVal.value,i=n.myRef.current.height.baseVal.value,o=p(e,t,i,r),l=function(e){return h.a().on("start",function(t){h.b.active||e.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}).on("drag",function(e){e.fx=h.b.x,e.fy=h.b.y}).on("end",function(t){h.b.active||e.alphaTarget(0),t.fx=null,t.fy=null})},c=y(a,e,"#5B8BDA",l(o)),s=_(a,t),u=v(a,e);n.setState({d3node:c,d3text:u,d3link:s,d3Graph:a,drag:l,simulation:o}),o.on("tick",function(){c.attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),u.attr("x",function(e){return e.x+10}).attr("dy",function(e){return e.y}),s.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})})}},n.handleChange=function(e){if(null!==e.target){var t=e.target,a=t.name,r=t.value;n.setState(Object(S.a)({},a,r))}},n.nodeListVis=function(e){e.preventDefault(),n.state.node_list_visibility?n.setState({node_list_visibility:!1}):n.setState({node_list_visibility:!0})},n.nodeFormVis=function(e){e.preventDefault(),n.state.node_form_visibility?n.setState({node_form_visibility:!1}):n.setState({node_form_visibility:!0})},n.edgeListVis=function(e){e.preventDefault(),n.state.edge_list_visibility?n.setState({edge_list_visibility:!1}):n.setState({edge_list_visibility:!0})},n.edgeFormVis=function(e){e.preventDefault(),n.state.edge_form_visibility?n.setState({edge_form_visibility:!1}):n.setState({edge_form_visibility:!0})},n.handleNodeSubmit=function(e){e.preventDefault();var t=n.props.graph.nodesArray,a=new Set;if(t.forEach(function(e){a.add(e.id)}),e.preventDefault(),n.setState({node_id_message:""}),n.state.node_id.length<=0)n.setState({node_id_message:"Empty field, please enter information"});else if(a.has(n.state.node_id))n.setState({node_id_message:"ID already taken, please set a new ID"});else if(n.state.node_id.length>0&&!a.has(n.state.node_id)){var r={id:n.state.node_id};n.props.addNode(r),n.setState({node_form_visibility:!1},function(){var e=n.props.graph.nodesArray.map(function(e){return JSON.parse(JSON.stringify(e))}),t=n.props.graph.edgesArray.map(function(e){return JSON.parse(JSON.stringify(e))}),a=h.h(n.myRef.current),r=a.selectAll(".node"),i=a.selectAll(".desc"),o=a.selectAll(".link"),l=b(n.state.d3node,e,"#5B8BDA",n.state.drag(n.state.simulation),n.state.d3link,t,n.state.d3text,n.state.simulation);r=l.nodeSelection,i=l.textSelection,o=l.linkSelection,n.state.simulation.on("tick",function(){r.attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),i.attr("x",function(e){return e.x+10}).attr("dy",function(e){return e.y}),o.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})}),n.setState({d3link:o,d3node:r,d3text:i})})}},n.handleEdgeSubmit=function(e){if(e.preventDefault(),console.log("clicked"),n.setState({edge_source_message:"",edge_target_message:"",edge_weight_message:""}),n.state.edge_source.length<=0&&n.setState({edge_source_message:"Please select a source node or create a node first"}),n.state.edge_weight<=0&&n.setState({edge_weight_message:"Please enter a weight for the edge"}),n.state.edge_target.length<=0&&n.setState({edge_target_message:"Please select a target node or create a node first"}),n.state.edge_source.length>0&&n.state.edge_weight>0&&n.state.edge_target.length>0){var t={source:n.state.edge_source,value:n.state.edge_weight,target:n.state.edge_target};n.props.addEdge(t),n.setState({edge_form_visibility:!1},function(){var e=n.props.graph.nodesArray.map(function(e){return JSON.parse(JSON.stringify(e))}),t=n.props.graph.edgesArray.map(function(e){return JSON.parse(JSON.stringify(e))}),a=h.h(n.myRef.current),r=a.selectAll(".node"),i=a.selectAll(".desc"),o=a.selectAll(".link"),l=b(n.state.d3node,e,"#5B8BDA",n.state.drag(n.state.simulation),n.state.d3link,t,n.state.d3text,n.state.simulation);r=l.nodeSelection,i=l.textSelection,o=l.linkSelection,console.log(o),n.state.simulation.on("tick",function(){r.attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),i.attr("x",function(e){return e.x+10}).attr("dy",function(e){return e.y}),o.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})}),n.setState({d3link:o,d3node:r,d3text:i})})}},n.state={node_id:"",node_id_message:"",edge_source:"",edge_source_message:"",edge_weight:0,edge_weight_message:"",edge_target:"",edge_target_message:"",node_form_visibility:!1,node_list_visibility:!1,edge_form_visibility:!1,edge_list_visibility:!1,d3node:null,d3link:null,d3text:null,d3Graph:null,simulation:null,drag:null},n.myRef=r.a.createRef(),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.graph.edgesArray),r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement("svg",{ref:this.myRef,width:"65vw",height:"90vh"}),r.a.createElement("div",{className:"controlPanel"},r.a.createElement("div",{className:"nodeArea"},r.a.createElement("h1",null,"nodes"),r.a.createElement("button",{onClick:function(t){return e.nodeListVis(t)}},this.state.node_list_visibility?"hide list":"expand list"),r.a.createElement("button",{onClick:this.nodeFormVis},"add a node"),this.state.node_list_visibility?r.a.createElement("ul",null,this.props.graph.nodesArray.map(function(e,t){return r.a.createElement("div",{className:"list-cards"},r.a.createElement("img",{src:A.a}),r.a.createElement("li",{key:t},"node ",e.id))})):null,this.state.node_form_visibility?r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"node_id"},"node name"),r.a.createElement("input",{type:"text",name:"node_id",onChange:this.handleChange}),r.a.createElement("p",null,this.state.node_id_message),r.a.createElement("button",{type:"submit",onClick:this.handleNodeSubmit},"create node")):null),r.a.createElement("div",{className:"edgeArea"},r.a.createElement("h1",null,"edges"),r.a.createElement("button",{onClick:this.edgeListVis},this.state.edge_list_visibility?"hide list":"expand list"),r.a.createElement("button",{onClick:this.edgeFormVis},"add edge"),this.state.edge_list_visibility?r.a.createElement("div",{className:"edgeList"},this.props.graph.edgesArray.map(function(e,t){return r.a.createElement("div",{key:t,className:"edge-list"},r.a.createElement("img",{src:j.a}),r.a.createElement("div",{className:"edge-info"},r.a.createElement("h2",null,"source node: ",e.source),r.a.createElement("h2",null,"weight of edge:",e.value),r.a.createElement("h2",null,"target node: ",e.target)))})):null,this.state.edge_form_visibility?r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"edge_source"},"source node"),r.a.createElement("select",{name:"edge_source",onChange:this.handleChange},r.a.createElement("option",{value:""},"Source Node"),this.props.graph.nodesArray.map(function(e,t){return k(e)?r.a.createElement("option",{value:e.id,key:t},e.id):null})),r.a.createElement("p",null,this.state.edge_source_message),r.a.createElement("label",{htmlFor:"edge_weight"},"edge thickness"),r.a.createElement("input",{type:"number",name:"edge_weight",min:"0",onChange:this.handleChange}),r.a.createElement("p",null,this.state.edge_weight_message),r.a.createElement("label",{htmlFor:"edge_target"},"target node"),r.a.createElement("select",{name:"edge_target",onChange:this.handleChange},r.a.createElement("option",{value:""},"Node Target"),this.props.graph.nodesArray.map(function(e,t){return k(e)?r.a.createElement("option",{value:e.id,key:t},e.id):null})),r.a.createElement("p",null,this.state.edge_target_message),r.a.createElement("button",{type:"submit",onClick:this.handleEdgeSubmit},"Create Edge")):null)))}}]),t}(a.Component)),J=Object(O.b)(function(e){return{graph:e}},function(e){return{addNode:function(t){return e({type:"GRAPHADDNODE",payload:t})},addEdge:function(t){return e((n=t,console.log(n),{type:"GRAPHADDEDGE",payload:n}));var n}}})(R),C=(n(51),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.title="Graphalizer"}},{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(g.a,{path:"/",exact:!0,component:x}),r.a.createElement(g.a,{path:"/grapher",exact:!0,component:J}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G,M=n(17),V=function(e){return function(t){return function(n){console.log("__ACTION__",n);try{var a=t(n);return console.log("__STATE__",e.getState()),a}catch(r){return r.action=n,console.error(r),r}}}},B=n(27),T={nodesArray:[],edgesArray:[]};!function(e){e.GraphAddNode="GRAPHADDNODE",e.GraphAddEdge="GRAPHADDEDGE"}(G||(G={}));var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.GraphAddNode:return Object(B.a)({},e,{nodesArray:[].concat(Object(m.a)(e.nodesArray),[t.payload])});case G.GraphAddEdge:return Object(B.a)({},e,{edgesArray:[].concat(Object(m.a)(e.edgesArray),[t.payload])});default:return e}},F=Object(M.c)(I,Object(M.a)(V));o.a.render(r.a.createElement(function(){return r.a.createElement(O.a,{store:F},r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null)))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.f74f0781.chunk.js.map